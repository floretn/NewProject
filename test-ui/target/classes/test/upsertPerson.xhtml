<?xml version="1.0" encoding="UTF-8"?>
<f:view  xmlns="http://www.w3.org/1999/xhtml"
       xmlns:h="http://java.sun.com/jsf/html"
       xmlns:f="http://java.sun.com/jsf/core"
       xmlns:p="http://primefaces.org/ui"
       xmlns:composite="http://xmlns.jcp.org/jsf/composite"
       xmlns:ui="http://java.sun.com/jsf/facelets">

    <!-- Для использования как <test:upsertPerson> с параметрами
    1 проблема: добавляет нового человека при каждом обновлении страницы
    2 проблема: компонент не отображается-->

    <composite:interface>
        <composite:attribute name = "id" />
        <composite:attribute name = "lastNameLabel" />
        <composite:attribute name = "lastNameValue" />
        <composite:attribute name = "firstNameLabel" />
        <composite:attribute name = "firstNameValue" />
        <composite:attribute name = "patronymicLabel" />
        <composite:attribute name = "patronymicValue" />
        <composite:attribute name = "dateLabel" />
        <composite:attribute name = "dateValue" />
        <composite:attribute name = "genderLabel" />
        <composite:attribute name = "genderValue" />
        <composite:attribute name="action"/>
        <composite:attribute name="update"/>
    </composite:interface>

    <composite:implementation>
            <p:panel id="#{cc.attrs.id}">
                <span class="ui-float-label">
                    <p:inputText id="float-upsert_lastName" value="#{cc.attrs.lastNameValue}"/>
                    <p:outputLabel for="@previous" value="#{cc.attrs.lastNameLabel}"/>
                </span>
                <br/><br/>
                <span class="ui-float-label">
                    <p:inputText id="float-upsert_firstName" value="#{cc.attrs.firstNameValue}"/>/>
                    <p:outputLabel for="@previous" value="#{cc.attrs.firstNameLabel}"/>
                </span>
                <br/><br/>
                <span class="ui-float-label">
                    <p:inputText id="float-upsert_patronymic" value="#{cc.attrs.patronymicValue}"/>
                    <p:outputLabel for="@previous" value="#{cc.attrs.patronymicLabel}"/>
                </span>
                <br/><br/>
                <p:outputLabel for="upsert_dateBirth" value="#{cc.attrs.dateLabel}"/>
                <p:datePicker id="insert_dateBirth" value="#{cc.attrs.dateValue}"/>
                <br/><br/>
                <p:outputLabel for="upsert_gender" value="#{cc.attrs.genderLabel}"/>
                <p:selectOneRadio id="upsert_gender" value="#{cc.attrs.genderValue}">
                    <f:selectItem itemLabel="М" itemValue="#{bean.genderM}"/>
                    <f:selectItem itemLabel="Ж" itemValue="#{bean.genderW}"/>
                </p:selectOneRadio>
                <br/><br/>
                <p:commandButton value="Принять изменения" id="upsertDo"
                                 action="#{cc.attrs.action}" ajax="true" update="#{cc.attrs.update}"/>
            </p:panel>
    </composite:implementation>

</f:view>